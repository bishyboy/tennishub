<!DOCTYPE html>
<html lang="en-us">

<head>

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Homepage</title>
	<link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    
</head>

<body>
	<!--Navigation bar--> 
    <nav>
        <!--Add a sandwich icon here-->
        <div class="sandwich-icon-area">
            <p onclick="openNav()"> &#9776;</p>
        </div>
        
        <div class="logo">
            <a href="index.html"> <img src="images/tennislogo.png"> </a>
            </div>
           <!----> 
            <h2> Tennis Hub </h2>
        	<div class="horizontal-nav">
            	<ul>
                	<li><a class="active" href="index.html">Home</a></li>
                	<li><a href="aboutus.html">About Us</a>
					<li><a href="contactus.html">Contact Us</a></li>
                	<li><a href="racketguide.html">Racket Guide</a></li>
                	<li><a href="clearanceitems.html">Clearance Items</a></li>
                </ul>
            </div>
                
            <div class="wishlist"> 
                <img src="images/wishlist.png" onclick='window.open("wishlist.html", "_self")' ></a>
            </div>

            <div class="container">
            <div class="cart">
                <p style="font-size: 25px; font-weight: bold;" onclick='window.open("cart.html", "_self")' >
                    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 4h1.5L9 16m0 0h8m-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-8.5-3h9.25L19 7H7.312"/>
                    </svg>
                </p> 
                <!--Total number of products in cart-->
                  <span id="cart-count">0</span>   
            </div>
        </div>
    </nav>

    <!--Header area--> 
    <header> 
        <h1> Featured Items</h1>     
    </header>

    <div class="logo-carousel">
        <div class="carousel-container">
            <div class="carousel-slide">
                <img src="images/head-product-carousal.webp" alt="brand 1 Head">
            </div>
            <div class="carousel-slide">
                <img src="images/babolat-product-carousal.avif" alt="Brand 2 Babolat">
            </div>
            <div class="carousel-slide">
                <img src="images/wilson-product-carousal.avif" alt="Logo 3">
            </div>
            <div class="carousel-slide">
                <img src="images/yonex-product-carousal.webp" alt="Logo 4">
            </div>
    </div>

    



<!--The curtain dropdown menu-->
<div id="myNav" class="overlay">
    <div class="container">
    <p class="close-icon" onclick="closeNav()"> &times; CLOSE</p>
    <div class="overlay-content">
        <button class="dropdown-btn">Tennis Rackets
            <i class="fa fa-caret-down fa-xs"></i>
        </button>
        <div class="dropdown-container">
            <a href="wilsonrackets.html">Wilson Rackets</a>
            <a href="headrackets.html">Head Rackets</a>
            <a href="babolatrackets.html">Babolat Rackets</a>
            <a href="yonexrackets.html">Yonex Rackets</a>
        </div>
        <button class="dropdown-btn">Tennis Balls
            <i class="fa fa-caret-down fa-xs"></i>
        </button>
        <div class="dropdown-container">
            <a href="wilsonballs.html">Wilson Balls</a>
            <a href="headballs.html">Head Balls</a>
            <a href="babolatballs.html">Babolat Balls</a>
        </div>
        <button class="dropdown-btn">Bags
            <i class="fa fa-caret-down fa-xs"></i>
        </button>
        <div class="dropdown-container">
            <a href="3packbags.html">3 Pack Bags</a>
            <a href="6packbags.html">6 Pack Bags</a>
            <a href="9-15packbags.html">9 - 15 Pack Bags</a>
            <a href="backpacks.html">Backpacks</a>
        </div>
        <button class="dropdown-btn">Grips
            <i class="fa fa-caret-down fa-xs"></i>
        </button>
        <div class="dropdown-container">
            <a href="overgrips.html">Overgrips</a>
            <a href="replacementgrips.html">Replacement Grips</a>
        </div>
        <button class="dropdown-btn">Footwear
            <i class="fa fa-caret-down fa-xs"></i>
        </button>
        <div class="dropdown-container">
            <a href="menstennisshoes.html">Men's Tennis Shoes</a>
            <a href="womanstennisshoes.html">Woman's Tennis Shoes</a>
            <a href="juniorshoes.html">Junior Shoes</a>
        </div>
        <button class="dropdown-btn">Strings
            <i class="fa fa-caret-down fa-xs"></i>
        </button>
        <div class="dropdown-container">
            <a href="tennissinglesets.html">Tennis Single Sets</a>
            <a href="tennisreels.html">Tennis Reels</a>
        </div>
    </div>
</div>
</div>

<script>
    //Here is the JavaScript code//
    //WHen users click on "sandwich icon", open or show the curtain layer//
    //Write the openNav() method here //
    function openNav() {
        document.getElementById("myNav").style.display = "block";
    }
    
     //Close Nav curtain //
     function closeNav() {
        document.getElementById("myNav").style.display = "none";
     }

    var dropdown = document.getElementsByClassName("dropdown-btn");
    var i;

    for (i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener("click", function () {
            this.classList.toggle("active");
            var dropdownContent = this.nextElementSibling;
            if (dropdownContent.style.display === "block") {
                dropdownContent.style.display = "none";
            } else {
                dropdownContent.style.display = "block";
            }
        });
    }

    // Wishlist logic
    let wishlist = JSON.parse(localStorage.getItem("wishlist")) || []; // Load wishlist from localStorage

function addToWishlist(productId) {
    const product = productData.find(item => item.id === productId); // Ensure this matches your productData structure
    if (product) {
        const existingProduct = wishlist.find(item => item.id === productId);
        if (!existingProduct) {
            wishlist.push(product); // Add to wishlist if not already present
            localStorage.setItem("wishlist", JSON.stringify(wishlist)); // Save updated wishlist to localStorage
            console.log("Product added to wishlist:", productId);
            alert("Product added to wishlist");
        } else {
            console.log("Product already in wishlist:", productId);
        }
    } else {
        console.error("Product not found:", productId);
    }
}
</script>


<!--main area--> 
<main>
    <div class="product-container">
        <div class="featured-items-container">
            <div class="itemList">
                <div class="product-box">
                    <div class="product" data-product-id="1">
                        <div class="wishlist-icon" >
                            <img src="images/wishlist-button.png" alt="Wishlist Icon" class="wishlist-icon-img" onclick="addToWishlist(1)">                       
                        </div>
                        <img src="images/featured_item1.jpg" alt="Red Yonex racket" class="product-img-hover" onclick="showItem(1)"> 
                        <p>Yonex VCore 98 (7th Gen)</p>
                        <div class="product-price">
                            <p class="strikethrough">$429.99</p>
                            <p class="new-price">$409.00</p>
                            <br>
                            <button class="product-button" onclick="addToCart(1)">Add to cart</button>
                        </div>
                    </div>
                
                <div class="product" data-product-id="2">
                    <div class="wishlist-icon">
                        <img src="images/wishlist-button.png" alt="Wishlist Icon" class="wishlist-icon-img" onclick="addToWishlist(2)">
                    </div>
                    <img src="images/featured_item2.jpg" alt="Pure Aero Rafa" class="product-img-hover" onclick="showItem(2)"> 
                    <p>Babolat Pure Aero Rafa 26' Junior 2021</p>                
                    <div class="product-price">
                        <p class="strikethrough">$219.99</p>
                        <p class="new-price">$209.00</p>
                        <br>
                        <button class="product-button" onclick="addToCart(2)">Add To Cart</button>
                    </div>
                </div>
                
                <div class="product" data-product-id="3">
                    <div class="wishlist-icon">
                        <img src="images/wishlist-button.png" alt="Wishlist Icon" class="wishlist-icon-img" onclick="addToWishlist(3)">
                    </div>  
                    <img src="images/featured_item3.jpg" alt="Wilson US Open balls" class="product-img-hover" onclick="showItem(3)">
                    <p>Wilson US Open - 72 Ball Carton (4 Ball Can)</p>
                    <div class="product-price">
                        <p class="strikethrough">$450.00</p>
                        <p class="new-price">$295.00</p>
                        <br>
                        <button class="product-button" onclick="addToCart(3)">Add to cart</button>
                    </div>
                </div>
                
                <div class="product" data-product-id="4">
                    <div class="wishlist-icon">
                        <img src="images/wishlist-button.png" alt="Wishlist Icon" class="wishlist-icon-img" onclick="addToWishlist(4)">
                    </div>
                    <img src="images/featured_item4.jpg" alt="Asics Gel Blast Shoes" class="product-img-hover" onclick="showItem(4)">
                    <p>Asics Gel Blast FF 2 Womens</p>
                    <div class="product-price">
                        <p class="strikethrough">$229.00</p>
                        <p class="new-price">$209.00</p>
                        <br>
                        <button class="product-button" onclick="addToCart(4)">Add to cart</button>
                    </div>
                </div>
                
                <div class="product" data-product-id="5">
                    <div class="wishlist-icon">
                        <img src="images/wishlist-button.png" alt="Wishlist Icon" class="wishlist-icon-img" onclick="addToWishlist(5)">
                    </div>
                    <img src="images/featured_item5.jpg" alt="Wilson Ultra V4 Tour 6pk Bag" class="product-img-hover" onclick="showItem(5)">
                    <p>Wilson Ultra V4 Tour 6pk Bag</p>
                    <div class="product-price">
                        <p class="strikethrough">$170.00</p>
                        <p class="new-price">$165.00</p>
                        <br>
                        <button class="product-button" onclick="addToCart(5)">Add to cart</button>
                    </div>
                </div>
                
                <div class="product" data-product-id="6">
                    <div class="wishlist-icon">
                        <img src="images/wishlist-button.png" alt="Wishlist Icon" class="wishlist-icon-img" onclick="addToWishlist(6)">
                    </div>
                    <img src="images/featured_item6.jpg" alt="Yonex EZone 100 (Osaka Gen 7.0)" class="product-img-hover" onclick="showItem(6)">
                    <p>Yonex EZone 100 (Osaka Gen 7.0)</p>
                    <div class="product-price">
                        <p class="strikethrough">$450.00</p>
                        <p class="new-price">$339.00</p>
                        <br>
                        <button class="product-button" onclick="addToCart(6)">Add to cart</button>
                    </div>
                </div>

                <div class="product" data-product-id="7">
                    <div class="wishlist-icon">
                        <img src="images/wishlist-button.png" alt="Wishlist Icon" class="wishlist-icon-img" onclick="addToWishlist(7)">
                    </div>
                    <img src="images/featured_item7.jpg" alt="Asics Gel Blast FF 2 Mens" class="product-img-hover" onclick="showItem(7)">
                    <p>Asics Gel Blast FF 2 Mens</p>
                    <div class="product-price">
                        <p class="strikethrough">$220.00</p>
                        <p class="new-price">$209.00</p>
                        <br>
                        <button class="product-button" onclick="addToCart(7)">Add to cart</button>
                    </div>
                </div>

                 <div class="product" data-product-id="8">
                    <div class="wishlist-icon">
                        <img src="images/wishlist-button.png" alt="Wishlist Icon" class="wishlist-icon-img" onclick="addToWishlist(8)">
                    </div>
                    <img src="images/featured_item8.jpg" alt="Head Boom MP 2022" class="product-img-hover" onclick="showItem(8)">
                    <p>Head Boom MP 2022</p>
                    <div class="product-price">
                        <p class="strikethrough">$460.00</p>
                        <p class="new-price">$369.00</p>
                        <br>
                        <button class="product-button" onclick="addToCart(8)">Add to cart</button>
                    </div>
                    </div>
                </div>
            </div>     
        </div>    
    </div>  
</main>

<!-- Carousal JS -->
<script>
    let currentSlide = 0;

    function showSlide(index) {
        const slides = document.querySelectorAll('.carousel-slide');
        if (index >= slides.length) {
            currentSlide = 0; // Loop back to the first slide
        } else if (index < 0) {
            currentSlide = slides.length - 1; // Loop to the last slide
        } else {
            currentSlide = index;
        }
        const carouselContainer = document.querySelector('.carousel-container');
        const offset = -currentSlide * 100; // Move the container based on the current slide
        carouselContainer.style.transform = `translateX(${offset}%)`;
    }

    function changeSlide(direction) {
        showSlide(currentSlide + direction);
    }

    // Show the first slide on page load
    showSlide(currentSlide);

    console.log(document.querySelectorAll('.carousel-slide img'));
</script>



    <!--Footer Area--> 
    <footer> 
        <div> 
            <p>2024 Tennis Hub All Rights Reserved</p>
        </div> 
    </footer>

     <!-- JavaScript for Cart Functionality -->
     <script src="productData.js" defer></script> <!-- Link to your product data file -->
     <script src="cart.js" defer></script> <!-- Link to your cart script -->
     <script>
         let cart = JSON.parse(localStorage.getItem("cart")) || []; // Initialize cart from localStorage or as an empty array

         function addToCart(productId) {
             const product = productData.find(item => item.id === productId); // Ensure this matches your productData structure
             if (product) {
                 // Check if the product already exists in the cart
                 const existingProduct = cart.find(item => item.id === productId);
                 if (existingProduct) {
                     existingProduct.quantity += 1; // Increment quantity
                 } else {
                     product.quantity = 1; // Set quantity for new product
                     cart.push(product);
                 }
                 localStorage.setItem("cart", JSON.stringify(cart)); // Save updated cart to local storage
                 updateCartCount(); // Update cart count
              // Trigger cart animation
                const cartElement = document.querySelector('.cart'); // Adjust selector if necessary
                cartElement.classList.add('cart-animation');

                //Animate cart count
                animateCartCount(); // Call the animation function here

                // Remove animation class after animation ends
                setTimeout(() => {
                    cartElement.classList.remove('cart-animation');
                }, 500); // Match this duration with the CSS animation duration

                // Show alert after a delay
                setTimeout(() => {
                    alert("Product added to cart"); // Alert after animation
                }, 500); // Match this duration with the CSS animation duration
                } else {
                    console.error("Product not found:", productId);
            }
        }

    /*Cart animation when item added */
function animateCartCount() {
    const cartElement = document.querySelector('.cart'); // Select the cart container
    const cartCountElement = document.getElementById("cart-count");

    // Add the flash class to both the cart and the cart count
    cartElement.classList.add("cart-flash");
    cartCountElement.classList.add("cart-count-flash");
    cartCountElement.classList.add("animated"); // Add bounce animation to count

    // Clear previous animations
    cartElement.addEventListener("animationend", () => {
        cartElement.classList.remove("cart-flash");
        cartCountElement.classList.remove("cart-count-flash");
        cartCountElement.classList.remove("animated");
    }, { once: true });

    
}
         
 
         function updateCartCount() {
             const cartCount = cart.reduce((total, item) => total + item.quantity, 0); // Calculate total quantity
             document.getElementById("cart-count").innerText = cartCount; // Update cart count display
         }
 
         function showItem(productId) {
             localStorage.setItem('productId', productId);
             // Redirect to itempage.html with the source parameter
             window.location.href = `itempage.html?source=index`;
             //window.open('itempage.html', '_self');
             
         }
         
         
 
         updateCartCount(); // Update cart count on page load
     </script>

	



    
            
         

    
</body>
</html>